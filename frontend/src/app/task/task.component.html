<div id="task-card" [class]="cardClass">
  <div class="card-header">
    <h5 class="card-title">{{ task.title }}</h5>
    <div *ngIf="!task.completed" class="row">
      <div class="col-12 text-center">
        <label class="form-check-label text-info" for="completed"
          >Mark as completed</label
        >
        <input
          type="checkbox"
          class="form-check-input"
          [(ngModel)]="done"
          (click)="confirm()"
        />
      </div>
    </div>
  </div>
  <div class="card-body responsive-content">
    <p class="card-text">{{ task.description }}</p>
  </div>
  <div class="card-footer">
    <div class="row">
      <div
        *ngIf="!isCompleted && started"
        class="col-12 d-flex justify-content-center mb-2"
      >
        <timer
          [started]="started"
          [paused]="paused"
          [stopped]="stopped"
          (onCompleted)="handleOnComplete($event)"
          (onChange)="handleOnChange($event)"
        ></timer>
      </div>
      <div *ngIf="!isCompleted" class="col-2">
        <button
          *ngIf="(stopped || paused) && !started"
          class="button play"
          (click)="onStart()"
        ></button>
        <button
          *ngIf="started"
          class="button paused"
          (click)="onPause()"
        ></button>
      </div>
      <div class="col-10">
        <p *ngIf="started">Time Spent: ({{ timeSpent }})</p>
        <p *ngIf="!started">Total Time Spent: ({{ formattedTimeSpent }})</p>
      </div>
    </div>
  </div>
</div>
